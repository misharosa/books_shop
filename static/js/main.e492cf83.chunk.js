(this.webpackJsonpbooks_shop=this.webpackJsonpbooks_shop||[]).push([[0],{31:function(e,t,n){},32:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(26),r=n.n(s),o=(n(31),n(2)),i=(n(32),n(0)),l=function(){return Object(i.jsx)("div",{className:"footer",children:Object(i.jsx)("h3",{className:"footer__title",children:"\u0412\u0441\u0442\u0438\u0433\u043d\u0438 \u043f\u0440\u0438\u0434\u0431\u0430\u0442\u0438 \u043a\u043d\u0438\u0436\u043a\u0443 \u0434\u043e 25 \u0447\u0435\u0440\u0432\u043d\u044f!"})})},u=(n(34),n(5)),j=function(){return Object(i.jsx)("div",{className:"header-container",children:Object(i.jsxs)("ul",{className:"header__list",children:[Object(i.jsx)(u.b,{to:"/books_shop",className:"header__item",children:"Home"}),Object(i.jsx)(u.b,{to:"/books_shop",className:"header__item",children:"List"}),Object(i.jsx)(u.b,{to:"/books_shop",className:"header__item",children:"Other"}),Object(i.jsx)(u.b,{to:"/books_shop",className:"header__item",children:"Exit"})]})})},b=function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(j,{}),Object(i.jsx)(o.a,{}),Object(i.jsx)(l,{})]})},d=(n(35),function(){return Object(i.jsxs)("div",{className:"store",children:[Object(i.jsx)("img",{className:"store__img",src:"https://previews.123rf.com/images/pauldesign/pauldesign1601/pauldesign160100033/51548041-welcome-we-are-open-a-welcome-sign-for-cafes-or-shop-visitors-on-blackboard-background-with-chalk-ha.jpg",alt:"shop"}),Object(i.jsxs)("div",{className:"store__list",children:[Object(i.jsx)(u.b,{className:"store__item",to:"/books_shop/books",children:"Books"}),Object(i.jsx)(u.b,{className:"store__item",to:"/books_shop/magazines",children:"Magazines"})]})]})}),h=n(8),m=n(10),O=n(6),f=n(12),x=n(7),v=n.n(x),p=n(13),g=n.n(p),N=function(){var e=Object(f.a)(v.a.mark((function e(t){var n,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g()("http://localhost:3001/".concat(t));case 3:return n=e.sent,c=n.data,e.abrupt("return",c);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(f.a)(v.a.mark((function e(t,n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.patch("http://localhost:3001/".concat(t,"/").concat(n.id),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=Object(f.a)(v.a.mark((function e(t,n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.delete("http://localhost:3001/".concat(t,"/").concat(n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e=Object(f.a)(v.a.mark((function e(t,n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.post("http://localhost:3001/".concat(t),n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),C=(n(55),a.a.createContext(null)),S=function(e){var t=e.item,n=Object(c.useContext)(C),a=n.handleDelete,s=n.handleEditBook;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"good",children:[Object(i.jsx)("img",{className:"goods_img",src:t.poster,alt:"book_img"}),Object(i.jsx)("p",{className:"goods_name",children:t.name}),Object(i.jsxs)("div",{className:"goods_price",children:[t.price," \u0433\u0440\u043d."]})]}),Object(i.jsxs)("div",{className:"good__item-buttons",children:[Object(i.jsx)("button",{className:"good__item-button open-modal",onClick:function(){return s(t)},children:"Edit"}),Object(i.jsx)("button",{className:"good__item-button",onClick:function(){return a(t.id)},children:"Delete"})]})]})})},J=(n(56),function(){var e=Object(c.useContext)(C).handleItemsFilter;return Object(i.jsx)(i.Fragment,{children:e.length>0&&Object(i.jsx)("div",{className:"goods",children:e.map((function(e){return Object(i.jsx)("div",{className:"goods__item",children:Object(i.jsx)(S,{item:e})},e.id)}))})})}),E=a.a.memo(J),_=(n(57),function(){var e=Object(c.useContext)(C),t=e.handleAdd,n=e.handleFilter,a=e.filterValue;return Object(i.jsxs)("div",{className:"search__container",children:[Object(i.jsx)("img",{alt:"plus",src:"data:image/png;base64,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",className:"modal__add__img",onClick:t}),Object(i.jsxs)("label",{htmlFor:"",children:["\u0428\u0443\u043a\u0430\u0442\u0438:",Object(i.jsx)("input",{className:"input__search",type:"search",value:a,onChange:function(e){return n(e.target.value)}})]})]})}),D=(n(58),function(e){var t=e.active,n=e.setActive,c=e.children;return Object(i.jsx)("div",{className:t?"modal active":"modal",onClick:function(){return n(null)},children:t&&Object(i.jsx)("div",{className:t?"modal__content active":"modal__content",onClick:function(e){return e.stopPropagation()},children:c})})}),M=function(){var e=Object(o.h)().name,t=Object(c.useState)([]),n=Object(O.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(""),l=Object(O.a)(r,2),u=l[0],j=l[1],b=Object(c.useState)(null),d=Object(O.a)(b,2),f=d[0],x=d[1],v=Object(c.useState)(null),p=Object(O.a)(v,2),g=p[0],S=p[1];Object(c.useEffect)((function(){var t=localStorage.getItem(e);t?s(JSON.parse(t)):N(e).then((function(t){localStorage.setItem(e,JSON.stringify(t)),s(t)}))}),[e,s]);var J=Object(c.useMemo)((function(){return a.filter((function(e){return e.name.toLowerCase().includes(u.toLowerCase())}))}),[a,u]);return Object(i.jsxs)("div",{children:[Object(i.jsxs)(C.Provider,{value:{filterValue:u,handleItemsFilter:J,handleAdd:function(){S({id:Math.random(),name:"",price:"",poster:"https://images.unsplash.com/photo-1492619375914-88005aa9e8fb?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=746&q=80"})},handleFilter:function(e){j(e)},handleDelete:function(t){k(e,t).catch((function(e){return console.log(e.message)}));var n=a.filter((function(e){return e.id!==t}));s(n),localStorage.setItem(e,JSON.stringify(Object(m.a)(n)))},handleEditBook:function(e){x(e)}},children:[Object(i.jsx)(_,{}),Object(i.jsx)(E,{})]}),Object(i.jsxs)(D,{active:g,setActive:S,children:[Object(i.jsx)("h2",{children:"You can add goods!"}),Object(i.jsxs)("form",{className:"form",method:"get",children:[Object(i.jsxs)("label",{children:["Name:",Object(i.jsx)("textarea",{className:"form__item",value:null===g||void 0===g?void 0:g.name,onChange:function(e){return S(Object(h.a)(Object(h.a)({},g),{},{name:e.target.value}))}})]}),Object(i.jsxs)("label",{children:["Price:",Object(i.jsx)("input",{className:"form__item",value:null===g||void 0===g?void 0:g.price,onChange:function(e){return S(Object(h.a)(Object(h.a)({},g),{},{price:e.target.value}))}})]}),Object(i.jsxs)("div",{className:"form__buttons",children:[Object(i.jsx)("button",{className:"form__button",onClick:function(t){t.preventDefault(),I(e,g).catch((function(e){return console.log(e.message)})),a.push(g),s(Object(m.a)(a)),S(null),localStorage.setItem(e,JSON.stringify(Object(m.a)(a)))},children:"Add"}),Object(i.jsx)("button",{className:"form__button",onClick:function(){return S(null)},children:"Cancel"})]})]})]}),Object(i.jsx)(D,{active:f,setActive:x,children:Object(i.jsxs)("form",{className:"form",children:[Object(i.jsxs)("label",{children:["Name:",Object(i.jsx)("textarea",{className:"form__item",value:null===f||void 0===f?void 0:f.name,onChange:function(e){return x(Object(h.a)(Object(h.a)({},f),{},{name:e.target.value}))}})]}),Object(i.jsxs)("label",{children:["Price:",Object(i.jsx)("input",{className:"form__item",value:null===f||void 0===f?void 0:f.price,onChange:function(e){return x(Object(h.a)(Object(h.a)({},f),{},{price:e.target.value}))}})]}),Object(i.jsxs)("div",{className:"form__buttons",children:[Object(i.jsx)("button",{type:"submit",className:"form__button",onClick:function(t){t.preventDefault();var n=a.findIndex((function(e){return f.id===e.id}));a.splice(n,1,f),s(Object(m.a)(a)),localStorage.setItem(e,JSON.stringify(Object(m.a)(a))),A(e,f).catch((function(e){return console.log(e.message)})),x(null)},children:"Submit"}),Object(i.jsx)("button",{type:"submit",className:"form__button",onClick:function(){return x(null)},children:"Cancel"})]})]})})]})},w=function(){return Object(i.jsx)("div",{className:"App",children:Object(i.jsx)(o.d,{children:Object(i.jsxs)(o.b,{element:Object(i.jsx)(b,{}),children:[Object(i.jsx)(o.b,{path:"/books_shop",element:Object(i.jsx)(d,{})}),Object(i.jsx)(o.b,{path:"/books_shop/:name",element:Object(i.jsx)(M,{})})]})})})};r.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(u.a,{children:Object(i.jsx)(w,{})})}),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.e492cf83.chunk.js.map