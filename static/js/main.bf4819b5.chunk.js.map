{"version":3,"sources":["components/Layout/Footer/Footer.jsx","components/Layout/Header/Header.jsx","components/Layout/Layout.jsx","components/HomePage/HomePage.jsx","api/api.jsx","components/Modal/Modal.jsx","components/ItemList/GoodsItem/GoodItem.jsx","components/Search/Search.jsx","components/ItemList/ItemList.jsx","components/BooksPage/BooksPage.jsx","App.jsx","index.js"],"names":["Footer","className","Header","to","Layout","HomePage","src","alt","getItemsFromServer","name","a","axios","data","console","error","message","editItemFromServer","item","patch","id","deleteItemsFromServer","itemId","delete","Modal","active","setActive","children","onClick","e","stopPropagation","GoodItem","handleDelete","modalActive","setModalActive","handleEdit","nameEdit","setNameEdit","priceEdit","setPriceEdit","editItem","handleFind","poster","price","onSubmit","value","onChange","target","type","Search","setFilterValue","filterValue","htmlFor","ItemsList","items","setEditItem","length","map","BooksPage","setItems","useParams","useState","useEffect","getItems","then","r","handleItemsFilter","useMemo","filter","toLowerCase","includes","preventDefault","editItems","char","log","filterDelete","find","App","element","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kWAGaA,EAAS,WAClB,OACI,qBAAKC,UAAU,SAAf,SACI,oBAAIA,UAAU,gBAAd,uM,eCFCC,EAAS,WAClB,OACG,qBAAKD,UAAU,mBAAf,SACI,qBAAIA,UAAU,eAAd,UACI,cAAC,IAAD,CAAME,GAAG,cAAcF,UAAU,eAAjC,kBACA,cAAC,IAAD,CAAME,GAAG,cAAcF,UAAU,eAAjC,kBACA,cAAC,IAAD,CAAME,GAAG,cAAcF,UAAU,eAAjC,mBACA,cAAC,IAAD,CAAME,GAAG,cAAcF,UAAU,eAAjC,wBCIAG,EAVA,WACb,OACE,qCACI,cAAC,EAAD,IACA,cAAC,IAAD,IACA,cAAC,EAAD,QCNKC,G,MAAW,WACpB,OACI,sBAAKJ,UAAU,QAAf,UACI,qBACQA,UAAU,aACVK,IAAI,oMACJC,IAAI,SAEZ,sBAAKN,UAAU,cAAf,UACI,cAAC,IAAD,CAAMA,UAAU,cAAcE,GAAG,oBAAjC,mBACA,cAAC,IAAD,CAAMF,UAAU,cAAcE,GAAG,wBAAjC,+B,+CCZHK,EAAkB,uCAAG,WAAOC,GAAP,iBAAAC,EAAA,+EAEPC,IAAM,yBAAD,OAA0BF,IAFxB,uBAEtBG,EAFsB,EAEtBA,KAFsB,kBAGvBA,GAHuB,gCAK9BC,QAAQC,MAAM,KAAEC,SALc,yDAAH,sDAUlBC,EAAkB,uCAAG,WAAOP,EAAMQ,GAAb,iBAAAP,EAAA,+EAEPC,IAAMO,MAAN,sCAA2CD,EAAKE,IAAMF,GAF/C,uBAEtBL,EAFsB,EAEtBA,KAFsB,kBAGvBA,GAHuB,gCAK9BC,QAAQC,MAAM,KAAEC,SALc,yDAAH,wDAUlBK,EAAqB,uCAAG,WAAOC,GAAP,iBAAAX,EAAA,+EAEVC,IAAMW,OAAN,sCAA4CD,IAFlC,uBAEzBT,EAFyB,EAEzBA,KAFyB,kBAG1BA,GAH0B,gCAKjCC,QAAQC,MAAM,KAAEC,SALiB,yDAAH,sDCnBrBQ,G,YAAQ,SAAC,GAAqC,IAAnCC,EAAkC,EAAlCA,OAAQC,EAA0B,EAA1BA,UAAWC,EAAe,EAAfA,SACvC,OACI,qBAAKzB,UAAWuB,EAAS,eAAiB,QAASG,QAAS,kBAAMF,GAAU,IAA5E,SACI,qBAAKxB,UAAWuB,EAAS,wBAAyB,iBAAkBG,QAAS,SAAAC,GAAC,OAAIA,EAAEC,mBAApF,SACKH,QCHJI,EAAW,SAAC,GAad,IAXHb,EAWE,EAXFA,KACAc,EAUE,EAVFA,aACAC,EASE,EATFA,YACAC,EAQE,EARFA,eACAC,EAOE,EAPFA,WACAC,EAME,EANFA,SACAC,EAKE,EALFA,YACAC,EAIE,EAJFA,UACAC,EAGE,EAHFA,aACAC,EAEE,EAFFA,SACAC,EACE,EADFA,WAGJ,OACI,qCACI,gCACI,sBAAKvC,UAAU,OAAf,UACI,qBAAKA,UAAU,YAAYK,IAAKW,EAAKwB,OAAQlC,IAAI,aACjD,mBAAGN,UAAU,aAAb,SAA2BgB,EAAKR,OAChC,sBAAKR,UAAU,cAAf,UAA8BgB,EAAKyB,MAAnC,6BAEJ,sBAAKzC,UAAU,qBAAf,UACI,wBAAQA,UAAU,+BAA+B0B,QAAS,kBAAMa,EAAWvB,EAAKE,KAAhF,kBACA,wBAAQlB,UAAU,oBAAoB0B,QAAS,kBAAMI,EAAad,EAAKE,KAAvE,0BAGR,cAAC,EAAD,CAAOK,OAAQQ,EAAaP,UAAWQ,EAAvC,SACI,uBAAMU,SAAU,SAACf,GAAD,OAAOM,EAAWN,EAAGW,IAAWtC,UAAU,OAA1D,UACI,0CAEI,0BAAUA,UAAU,aAAa2C,MAAOT,EAAUU,SAAU,SAACjB,GAAD,OAAOQ,EAAYR,EAAEkB,OAAOF,aAE5F,2CAEI,uBAAO3C,UAAU,aAAa2C,MAAOP,EAAWQ,SAAU,SAACjB,GAAD,OAAOU,EAAaV,EAAEkB,OAAOF,aAE3F,wBAAQG,KAAK,SAAS9C,UAAU,eAAhC,6BCxCP+C,G,YAAS,SAAC,GAAqC,IAAnCC,EAAkC,EAAlCA,eAAgBC,EAAkB,EAAlBA,YAErC,OACI,wBAAOC,QAAQ,GAAf,kDAEI,uBACIlD,UAAU,gBACV8C,KAAK,SACLH,MAAOM,EACPL,SAAU,SAACjB,GAAD,OAAOqB,EAAerB,EAAEkB,OAAOF,eCN5CQ,EAAY,SAAC,GAgBf,IAdHC,EAcE,EAdFA,MACAtB,EAaE,EAbFA,aACAC,EAYE,EAZFA,YACAC,EAWE,EAXFA,eACAC,EAUE,EAVFA,WACAC,EASE,EATFA,SACAC,EAQE,EARFA,YACAC,EAOE,EAPFA,UACAC,EAME,EANFA,aACAC,EAKE,EALFA,SACAe,EAIE,EAJFA,YACAd,EAGE,EAHFA,WACAU,EAEE,EAFFA,YACAD,EACE,EADFA,eAEN,OACE,qCACE,cAAC,EAAD,CAAQA,eAAgBA,EAAgBC,YAAaA,IACpDG,EAAME,OAAS,GACd,qBAAKtD,UAAU,QAAf,SACGoD,EAAMG,KAAI,SAACvC,GAAD,OACT,qBAAmBhB,UAAU,cAA7B,SACE,cAAC,EAAD,CACIoD,MAAOA,EACPlB,SAAUA,EACVC,YAAaA,EACbC,UAAWA,EACXC,aAAcA,EACdrB,KAAMA,EACNc,aAAcA,EACdC,YAAaA,EACbC,eAAgBA,EAChBC,WAAYA,EACZK,SAAUA,EACVe,YAAaA,EACbd,WAAYA,KAdRvB,EAAKE,aCvBdsC,EAAY,SAAC,GAAyB,IAAvBJ,EAAsB,EAAtBA,MAAOK,EAAe,EAAfA,SAEvBjD,EAASkD,cAATlD,KACR,EAAgCmD,mBAAS,IAAzC,mBAAOrB,EAAP,KAAiBe,EAAjB,KACA,EAAsCM,mBAAS,IAA/C,mBAAOV,EAAP,KAAoBD,EAApB,KACA,EAAsCW,oBAAS,GAA/C,mBAAO5B,EAAP,KAAoBC,EAApB,KACA,EAAgC2B,mBAAS,IAAzC,mBAAOzB,EAAP,KAAiBC,EAAjB,KACA,EAAkCwB,mBAAS,IAA3C,mBAAOvB,EAAP,KAAkBC,EAAlB,KAEAuB,qBAAU,WACN,GAAqB,IAAjBR,EAAME,OAAc,CACpB,IAAMO,EAAQ,uCAAG,sBAAApD,EAAA,sEACAF,EAAmBC,GADnB,mFAAH,qDAGdqD,IAAWC,MAAK,SAACC,GAAD,OAAON,EAASM,SAErC,CAACvD,EAAMiD,EAAUL,EAAME,SAE1B,IAuCMU,EAAoBC,mBAAQ,WAC9B,OAAOb,EAAMc,QAAO,SAAClD,GAAD,OAChBA,EAAKR,KAAK2D,cAAcC,SAASnB,EAAYkB,oBAElD,CAACf,EAAOH,IAEX,OACI,8BACI,cAAC,EAAD,CACID,eAAgBA,EAChBC,YAAaA,EACbd,YAAaA,EACbE,aAAcA,EACdH,SAAUA,EACVE,UAAWA,EACXH,WAjCO,SAACN,GAChBA,EAAE0C,iBACFrC,GAAe,GACf,IAAMsC,EAAYlB,EAAMG,KAAI,SAAAgB,GACxB,GAAIA,EAAKrD,KAAOoB,EAASpB,GAAI,CACzB,IAAMoB,EAAQ,2BACPiC,GADO,IAEV/D,KAAM0B,EACNO,MAAOL,IAGX,OADArB,EAAmB,QAASuB,GAAUwB,MAAK,SAAAC,GAAC,OAAInD,QAAQ4D,IAAIT,MACrDzB,EAEX,OAAOiC,KAEXd,EAASa,IAmBDxC,aAvDS,SAACV,GAClBD,EAAsBC,GAAQ0C,MAAK,SAAAC,GAAC,OAAIA,KACxC,IAAMU,EAAerB,EAAMc,QAAO,SAAAlD,GAAI,OAAIA,EAAKE,KAAOE,KACtDqC,EAASgB,IAqDDlC,WAjDO,SAACnB,GAChB,IAAMkB,EAAWc,EAAMsB,MAAK,SAAA1D,GAAI,OAAIA,EAAKE,KAAOE,KAEhDe,EAAYG,EAAS9B,MACrB6B,EAAaC,EAASG,OACtBT,GAAe,GAEfqB,EAAY,2BACLf,GADI,IAEP9B,KAAM8B,EAAS9B,KACfiC,MAAOH,EAASG,UAwCZW,MAAOY,EACPjC,YAAaA,EACbC,eAAgBA,EAChBM,SAAUA,EACVe,YAAaA,OC1EhBsB,EAAM,WACf,MAA0BhB,mBAAS,IAAnC,mBAAOP,EAAP,KAAcK,EAAd,KAMF,OACE,qBAAKzD,UAAU,MAAf,SACE,cAAC,IAAD,UACE,eAAC,IAAD,CAAO4E,QAAS,cAAC,EAAD,IAAhB,UACE,cAAC,IAAD,CAAOC,KAAM,cAAeD,QAAS,cAAC,EAAD,MACrC,cAAC,IAAD,CAAOC,KAAM,oBAAqBD,QAAS,cAAC,EAAD,CAAWxB,MAAOA,EAAOK,SAAUA,cCjBxFqB,IAASC,OACP,cAAC,IAAMC,WAAP,UACI,cAAC,IAAD,UACM,cAAC,EAAD,QAGVC,SAASC,eAAe,W","file":"static/js/main.bf4819b5.chunk.js","sourcesContent":["import React from 'react';\nimport \"./Footer.css\"\n\nexport const Footer = () => {\n    return (\n        <div className=\"footer\" >\n            <h3 className=\"footer__title\">Встигни придбати книжку до 25 червня!</h3>\n        </div>\n    );\n};\n","import React from 'react';\nimport \"./Header.css\"\nimport { Link } from \"react-router-dom\";\n\nexport const Header = () => {\n    return (\n       <div className=\"header-container\">\n           <ul className=\"header__list\">\n               <Link to=\"/books_shop\" className=\"header__item\">Home</Link>\n               <Link to=\"/books_shop\" className=\"header__item\">List</Link>\n               <Link to=\"/books_shop\" className=\"header__item\">Other</Link>\n               <Link to=\"/books_shop\" className=\"header__item\">Exit</Link>\n           </ul>\n       </div>\n    );\n};\n","import React from 'react';\nimport { Outlet } from 'react-router-dom';\nimport { Footer } from './Footer/Footer';\nimport { Header } from './Header/Header';\n\nconst Layout = () => {\n  return (\n    <>\n        <Header />\n        <Outlet />\n        <Footer />\n    </>\n  );\n};\n\nexport default Layout;\n","import React from 'react';\nimport { Link } from \"react-router-dom\";\nimport \"./HomePage.css\"\n\nexport const HomePage = () => {\n    return (\n        <div className=\"store\">\n            <img\n                    className=\"store__img\"\n                    src=\"https://previews.123rf.com/images/pauldesign/pauldesign1601/pauldesign160100033/51548041-welcome-we-are-open-a-welcome-sign-for-cafes-or-shop-visitors-on-blackboard-background-with-chalk-ha.jpg\"\n                    alt=\"shop\"\n            />\n            <div className=\"store__list\">\n                <Link className=\"store__item\" to=\"/books_shop/books\">Books</Link>\n                <Link className=\"store__item\" to=\"/books_shop/magazines\">Magazines</Link>\n            </div>\n        </div>\n    );\n};\n","import axios from 'axios';\n\nexport const getItemsFromServer = async (name) => {\n  try {\n    const { data } = await axios(`http://localhost:3001/${name}`);\n    return data;\n  } catch (e) {\n    console.error(e.message);\n  }\n};\n\n// edit item\nexport const editItemFromServer = async (name, item) => {\n  try {\n    const { data } = await axios.patch(`http://localhost:3001/books/${item.id}`, item);\n    return data;\n  } catch (e) {\n    console.error(e.message);\n  }\n};\n\n// delete item\nexport const deleteItemsFromServer = async (itemId) => {\n  try {\n    const { data } = await axios.delete(`http://localhost:3001/books/${itemId}`);\n    return data;\n  } catch (e) {\n    console.error(e.message);\n  }\n};\n","import React from 'react';\nimport \"./Modal.css\"\n\nexport const Modal = ({ active, setActive, children }) => {\n    return (\n        <div className={active ? \"modal active\" : \"modal\"} onClick={() => setActive(false)}>\n            <div className={active ? \"modal__content active\": \"modal__content\"} onClick={e => e.stopPropagation()}>\n                {children}\n            </div>\n        </div>\n    );\n};\n","import React from 'react';\nimport \"./GoodItem.css\"\nimport { Modal } from \"../../Modal/Modal\";\n\nexport const GoodItem = (\n    {\n        item,\n        handleDelete,\n        modalActive,\n        setModalActive,\n        handleEdit,\n        nameEdit,\n        setNameEdit,\n        priceEdit,\n        setPriceEdit,\n        editItem,\n        handleFind\n    }) => {\n\n    return (\n        <>\n            <div>\n                <div className=\"good\">\n                    <img className=\"goods_img\" src={item.poster} alt=\"book_img\"/>\n                    <p className=\"goods_name\">{item.name}</p>\n                    <div className=\"goods_price\">{item.price} грн.</div>\n                </div>\n                <div className=\"good__item-buttons\">\n                    <button className=\"good__item-button open-modal\" onClick={() => handleFind(item.id)}>Edit</button>\n                    <button className=\"good__item-button\" onClick={() => handleDelete(item.id)}>Delete</button>\n                </div>\n            </div>\n            <Modal active={modalActive} setActive={setModalActive}>\n                <form onSubmit={(e) => handleEdit(e, editItem)} className=\"form\">\n                    <label >\n                        Name:\n                        <textarea className=\"form__item\" value={nameEdit} onChange={(e) => setNameEdit(e.target.value) } />\n                    </label>\n                    <label>\n                        Price:\n                        <input className=\"form__item\" value={priceEdit} onChange={(e) => setPriceEdit(e.target.value) } />\n                    </label>\n                    <button type=\"submit\" className=\"form__button\">Submit</button>\n                </form>\n            </Modal>\n        </>\n    );\n};\n","import \"./Search.css\"\n\nexport const Search = ({ setFilterValue, filterValue }) => {\n\n    return (\n        <label htmlFor=\"\">\n            Шукати:\n            <input\n                className=\"input__search\"\n                type='search'\n                value={filterValue}\n                onChange={(e) => setFilterValue(e.target.value)}\n            />\n        </label>\n    );\n};","import React from 'react';\nimport { GoodItem } from './GoodsItem/GoodItem';\nimport './ItemsList.css';\nimport { Search } from \"../Search/Search\";\n\nexport const ItemsList = (\n    {\n        items,\n        handleDelete,\n        modalActive,\n        setModalActive,\n        handleEdit,\n        nameEdit,\n        setNameEdit,\n        priceEdit,\n        setPriceEdit,\n        editItem,\n        setEditItem,\n        handleFind,\n        filterValue,\n        setFilterValue\n    }) => {\n  return (\n    <>\n      <Search setFilterValue={setFilterValue} filterValue={filterValue} />\n      {items.length > 0 && (\n        <div className=\"goods\">\n          {items.map((item) => (\n            <div key={item.id} className=\"goods__item\">\n              <GoodItem\n                  items={items}\n                  nameEdit={nameEdit}\n                  setNameEdit={setNameEdit}\n                  priceEdit={priceEdit}\n                  setPriceEdit={setPriceEdit}\n                  item={item}\n                  handleDelete={handleDelete}\n                  modalActive={modalActive}\n                  setModalActive={setModalActive}\n                  handleEdit={handleEdit}\n                  editItem={editItem}\n                  setEditItem={setEditItem}\n                  handleFind={handleFind}\n              />\n            </div>\n          ))}\n        </div>\n      )}\n    </>\n  );\n};\n","import React, { useEffect, useMemo, useState } from 'react';\nimport { deleteItemsFromServer, editItemFromServer, getItemsFromServer } from \"../../api/api\";\nimport { ItemsList } from \"../ItemList/ItemList\";\nimport { useParams } from \"react-router-dom\";\n\nexport const BooksPage = ({ items, setItems }) => {\n\n    const { name } = useParams()\n    const [editItem, setEditItem] = useState({})\n    const [filterValue, setFilterValue] = useState('');\n    const [modalActive, setModalActive] = useState(false);\n    const [nameEdit, setNameEdit] = useState('')\n    const [priceEdit, setPriceEdit] = useState('')\n\n    useEffect(() => {\n        if (items.length === 0) {\n            const getItems = async () => {\n                return await getItemsFromServer(name);\n            };\n            getItems().then((r) => setItems(r));\n        }\n    }, [name, setItems, items.length])\n\n    const handleDelete = (itemId) => {\n        deleteItemsFromServer(itemId).then(r => r)\n        const filterDelete = items.filter(item => item.id !== itemId)\n        setItems(filterDelete)\n\n    }\n\n    const handleFind = (itemId) => {\n        const editItem = items.find(item => item.id === itemId)\n\n        setNameEdit(editItem.name)\n        setPriceEdit(editItem.price)\n        setModalActive(true)\n\n        setEditItem({\n            ...editItem,\n            name: editItem.name,\n            price: editItem.price\n        })\n    }\n\n    const handleEdit = (e) => {\n        e.preventDefault()\n        setModalActive(false)\n        const editItems = items.map(char => {\n            if (char.id === editItem.id) {\n                const editItem = {\n                    ...char,\n                    name: nameEdit,\n                    price: priceEdit\n                }\n                editItemFromServer(\"books\", editItem).then(r => console.log(r))\n                return editItem\n            }\n            return char\n        })\n        setItems(editItems)\n    }\n\n    const handleItemsFilter = useMemo(() => {\n        return items.filter((item) =>\n            item.name.toLowerCase().includes(filterValue.toLowerCase())\n        );\n    }, [items, filterValue]);\n\n    return (\n        <div>\n            <ItemsList\n                setFilterValue={setFilterValue}\n                filterValue={filterValue}\n                setNameEdit={setNameEdit}\n                setPriceEdit={setPriceEdit}\n                nameEdit={nameEdit}\n                priceEdit={priceEdit}\n                handleEdit={handleEdit}\n                handleDelete={handleDelete}\n                handleFind={handleFind}\n                items={handleItemsFilter}\n                modalActive={modalActive}\n                setModalActive={setModalActive}\n                editItem={editItem}\n                setEditItem={setEditItem}\n            />\n        </div>\n    );\n};\n","import './App.css';\nimport {Route, Routes} from 'react-router-dom';\nimport Layout from './components/Layout/Layout';\nimport { HomePage } from './components/HomePage/HomePage';\n// import ItemsList from './components/ItemList/ItemList';\n// import { ItemPage } from './components/ItemPage/ItemPage';\n// import { useState } from 'react';\nimport { BooksPage } from \"./components/BooksPage/BooksPage\";\nimport {useState} from \"react\";\n\nexport const App = () => {\n    const [items, setItems] = useState([]);\n  // const [items, setItems] = useState([]);\n  // const [item, setItem] = useState(undefined);\n  // const [modalActive, setModalActive] = useState(false);\n  // const [allItemsObj, setAllItemsObj] = useState({});\n\n  return (\n    <div className=\"App\">\n      <Routes>\n        <Route element={<Layout />}>\n          <Route path={'/books_shop'} element={<HomePage />} />\n          <Route path={'/books_shop/:name'} element={<BooksPage items={items} setItems={setItems} />} />\n          {/*<Route*/}\n          {/*  path={'/books_shop/:name'}*/}\n          {/*  element={*/}\n          {/*    <ItemsList*/}\n          {/*      items={items}*/}\n          {/*      setItems={setItems}*/}\n          {/*      allItemsObj={allItemsObj}*/}\n          {/*      setAllItemsObj={setAllItemsObj}*/}\n          {/*    />*/}\n          {/*  }*/}\n          {/*/>*/}\n        {/*  <Route*/}\n        {/*    path={`/books_shop/:name/:id`}*/}\n        {/*    element={*/}\n        {/*      <ItemPage*/}\n        {/*        setItems={setItems}*/}\n        {/*        item={item}*/}\n        {/*        setItem={setItem}*/}\n        {/*        setAllItemsObj={setAllItemsObj}*/}\n        {/*        allItemsObj={allItemsObj}*/}\n        {/*        modalActive={modalActive}*/}\n        {/*        setModalActive={setModalActive}*/}\n        {/*      />*/}\n        {/*    }*/}\n        {/*  />*/}\n        </Route>\n      </Routes>\n    </div>\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './App';\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n      <BrowserRouter>\n            <App />\n      </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}