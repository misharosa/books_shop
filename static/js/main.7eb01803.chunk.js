(this.webpackJsonpbooks_shop=this.webpackJsonpbooks_shop||[]).push([[0],{30:function(e,t,c){},31:function(e,t,c){},33:function(e,t,c){},34:function(e,t,c){},54:function(e,t,c){},55:function(e,t,c){},56:function(e,t,c){},57:function(e,t,c){},58:function(e,t,c){},59:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(25),r=c.n(a),o=c(4),i=(c(30),c(2)),l=(c(31),c(0)),u=function(){return Object(l.jsx)("div",{className:"footer",children:Object(l.jsx)("h3",{className:"footer__title",children:"\u0412\u0441\u0442\u0438\u0433\u043d\u0438 \u043f\u0440\u0438\u0434\u0431\u0430\u0442\u0438 \u043a\u043d\u0438\u0436\u043a\u0443 \u0434\u043e 25 \u0447\u0435\u0440\u0432\u043d\u044f!"})})},j=(c(33),c(3)),b=function(){return Object(l.jsx)("div",{className:"header-container",children:Object(l.jsxs)("ul",{className:"header__list",children:[Object(l.jsx)(j.b,{to:"/books_shop",className:"header__item",children:"Home"}),Object(l.jsx)(j.b,{to:"/books_shop",className:"header__item",children:"List"}),Object(l.jsx)(j.b,{to:"/books_shop",className:"header__item",children:"Other"}),Object(l.jsx)(j.b,{to:"/books_shop",className:"header__item",children:"Exit"})]})})},m=function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(b,{}),Object(l.jsx)(i.a,{}),Object(l.jsx)(u,{})]})},d=(c(34),function(){return Object(l.jsxs)("div",{className:"store",children:[Object(l.jsx)("img",{className:"store__img",src:"https://previews.123rf.com/images/pauldesign/pauldesign1601/pauldesign160100033/51548041-welcome-we-are-open-a-welcome-sign-for-cafes-or-shop-visitors-on-blackboard-background-with-chalk-ha.jpg",alt:"shop"}),Object(l.jsxs)("div",{className:"store__list",children:[Object(l.jsx)(j.b,{className:"store__item",to:"/books_shop/books",children:"Books"}),Object(l.jsx)(j.b,{className:"store__item",to:"/books_shop/magazines",children:"Magazines"})]})]})}),h=c(10),O=c(8),p=c(9),f=c(7),x=c.n(f),_=c(13),v=c.n(_),g=function(){var e=Object(p.a)(x.a.mark((function e(t){var c,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v()("http://localhost:3001/".concat(t));case 3:return c=e.sent,n=c.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(p.a)(x.a.mark((function e(t,c){var n,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.patch("http://localhost:3001/".concat(t,"/").concat(c.id),c);case 3:return n=e.sent,s=n.data,e.abrupt("return",s);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,c){return e.apply(this,arguments)}}(),k=function(){var e=Object(p.a)(x.a.mark((function e(t,c){var n,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.delete("http://localhost:3001/".concat(t,"/").concat(c));case 3:return n=e.sent,s=n.data,e.abrupt("return",s);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,c){return e.apply(this,arguments)}}(),w=(c(54),function(e){var t=e.setFilterValue,c=e.filterValue;return Object(l.jsxs)("label",{htmlFor:"",children:["\u0428\u0443\u043a\u0430\u0442\u0438:",Object(l.jsx)("input",{className:"input__search",type:"search",value:c,onChange:function(e){return t(e.target.value)}})]})}),I=(c(55),function(e){var t=e.item,c=e.name;return Object(l.jsxs)(j.b,{className:"good",to:"/books_shop/".concat(c,"/").concat(t.id),children:[Object(l.jsx)("img",{className:"goods_img",src:t.poster,alt:"book_img"}),Object(l.jsx)("p",{className:"goods_name",children:t.name}),Object(l.jsxs)("div",{className:"goods_price",children:[t.price," \u0433\u0440\u043d."]})]})}),A=(c(56),function(e){var t=e.items,c=e.setItems,s=e.allItemsObj,a=e.setAllItemsObj,r=Object(i.h)().name,u=Object(n.useState)(""),j=Object(o.a)(u,2),b=j[0],m=j[1];Object(n.useEffect)((function(){if(Object.keys(s).includes(r))c(s[r]);else{var e=function(){var e=Object(p.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e().then((function(e){c(e),a((function(t){return Object(O.a)(Object(O.a)({},t),{},Object(h.a)({},r,e))}))}))}}),[c,r,s,a]);var d=Object(n.useMemo)((function(){return t.filter((function(e){return e.name.toLowerCase().includes(b.toLowerCase())}))}),[t,b]);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(w,{setFilterValue:m,filterValue:b}),d.length>0&&Object(l.jsx)("div",{className:"goods",children:d.map((function(e){return Object(l.jsx)("div",{className:"goods__item",children:Object(l.jsx)(I,{name:r,item:e})},e.id)}))})]})}),y=(c(57),c(58),function(e){var t=e.active,c=e.setActive,n=e.children;return Object(l.jsx)("div",{className:t?"modal active":"modal",onClick:function(){return c(!1)},children:Object(l.jsx)("div",{className:t?"modal__content active":"modal__content",onClick:function(e){return e.stopPropagation()},children:n})})}),C=function(e){var t=e.setItems,c=e.setAllItemsObj,s=e.allItemsObj,a=e.item,r=e.setItem,u=e.modalActive,b=e.setModalActive,m=Object(i.h)(),d=m.id,f=m.name,_=Object(n.useState)(""),v=Object(o.a)(_,2),w=v[0],I=v[1],A=Object(n.useState)(""),C=Object(o.a)(A,2),S=C[0],F=C[1];Object(n.useEffect)((function(){function e(){return e=Object(p.a)(x.a.mark((function e(){var t,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(f);case 2:t=e.sent,c=t.find((function(e){return e.id===d})),c&&(r(c),I(c.name),F(c.price));case 5:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}(function(){return e.apply(this,arguments)})().catch((function(e){return console.log(e.message)}))}),[d,f,r]);var E=Object(i.g)();return Object(l.jsx)(l.Fragment,{children:a&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"good__item",children:[Object(l.jsx)("img",{className:"good__item-img",src:a.poster,alt:"book_img"}),Object(l.jsx)("p",{className:"good__item-name",children:a.name}),Object(l.jsxs)("div",{className:"good__item-price",children:[a.price," \u0433\u0440\u043d."]}),Object(l.jsxs)("div",{className:"good__item-buttons",children:[Object(l.jsx)("button",{className:"good__item-button open-modal",onClick:function(){return b(!0)},children:"Edit"}),Object(l.jsx)(j.b,{to:"/books_shop/".concat(f),className:"good__item-button",onClick:function(){return function(e){k(f,e).then((function(e){return e}));var n=s[f].filter((function(t){return t.id!==e}));t(n),c((function(e){return Object(O.a)(Object(O.a)({},e),{},Object(h.a)({},f,n))}))}(a.id)},children:"Delete"})]}),Object(l.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/17/17699.png",alt:"back_img",className:"good__item_button-back",onClick:function(){return E(-1)}})]}),Object(l.jsx)(y,{active:u,setActive:b,children:Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),b(!1);var n=s[f].map((function(e){if(e.id===a.id){var t=Object(O.a)(Object(O.a)({},e),{},{name:w,price:S});return N(f,t).then((function(e){return console.log(e)})),t}return e}));r(Object(O.a)(Object(O.a)({},a),{},{name:w,price:S})),t(n),c((function(e){return Object(O.a)(Object(O.a)({},e),{},Object(h.a)({},f,n))}))},className:"form",children:[Object(l.jsxs)("label",{children:["Name:",Object(l.jsx)("textarea",{className:"form__item",value:w,onChange:function(e){return I(e.target.value)}})]}),Object(l.jsxs)("label",{children:["Price:",Object(l.jsx)("input",{className:"form__item",value:S,onChange:function(e){return F(e.target.value)}})]}),Object(l.jsx)("button",{type:"submit",className:"form__button",children:"Submit"})]})})]})})},S=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(void 0),r=Object(o.a)(a,2),u=r[0],j=r[1],b=Object(n.useState)(!1),h=Object(o.a)(b,2),O=h[0],p=h[1],f=Object(n.useState)({}),x=Object(o.a)(f,2),_=x[0],v=x[1];return Object(l.jsx)("div",{className:"App",children:Object(l.jsx)(i.d,{children:Object(l.jsxs)(i.b,{element:Object(l.jsx)(m,{}),children:[Object(l.jsx)(i.b,{path:"/books_shop",element:Object(l.jsx)(d,{})}),Object(l.jsx)(i.b,{path:"/books_shop/:name",element:Object(l.jsx)(A,{items:c,setItems:s,allItemsObj:_,setAllItemsObj:v})}),Object(l.jsx)(i.b,{path:"/books_shop/:name/:id",element:Object(l.jsx)(C,{setItems:s,item:u,setItem:j,setAllItemsObj:v,allItemsObj:_,modalActive:O,setModalActive:p})})]})})})};r.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(j.a,{children:Object(l.jsx)(S,{})})}),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.7eb01803.chunk.js.map