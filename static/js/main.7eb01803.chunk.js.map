{"version":3,"sources":["components/Layout/Footer/Footer.jsx","components/Layout/Header/Header.jsx","components/Layout/Layout.jsx","components/HomePage/HomePage.jsx","api/api.jsx","components/Search/Search.jsx","components/ItemList/GoodsItem/GoodItem.jsx","components/ItemList/ItemList.jsx","components/Modal/Modal.jsx","components/ItemPage/ItemPage.jsx","App.jsx","index.js"],"names":["Footer","className","Header","to","Layout","HomePage","src","alt","getItemsFromServer","name","a","axios","data","console","error","message","editItemFromServer","item","patch","id","deleteItemsFromServer","itemId","delete","Search","setFilterValue","filterValue","htmlFor","type","value","onChange","e","target","GoodItem","poster","price","ItemsList","items","setItems","allItemsObj","setAllItemsObj","useParams","useState","useEffect","Object","keys","includes","getItems","then","r","prev","handleItemsFilter","useMemo","filter","toLowerCase","length","map","Modal","active","setActive","children","onClick","stopPropagation","ItemPage","setItem","modalActive","setModalActive","nameEdit","setNameEdit","priceEdit","setPriceEdit","currentItem","find","setCurrentItem","catch","log","navigate","useNavigate","filterDelete","handleDelete","onSubmit","preventDefault","editItems","char","editItem","App","undefined","element","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7eb01803.chunk.js","sourcesContent":["import React from 'react';\nimport \"./Footer.css\"\n\nexport const Footer = () => {\n    return (\n        <div className=\"footer\" >\n            <h3 className=\"footer__title\">Встигни придбати книжку до 25 червня!</h3>\n        </div>\n    );\n};\n","import React from 'react';\nimport \"./Header.css\"\nimport { Link } from \"react-router-dom\";\n\nexport const Header = () => {\n    return (\n       <div className=\"header-container\">\n           <ul className=\"header__list\">\n               <Link to=\"/books_shop\" className=\"header__item\">Home</Link>\n               <Link to=\"/books_shop\" className=\"header__item\">List</Link>\n               <Link to=\"/books_shop\" className=\"header__item\">Other</Link>\n               <Link to=\"/books_shop\" className=\"header__item\">Exit</Link>\n           </ul>\n       </div>\n    );\n};\n","import React from 'react';\nimport { Outlet } from 'react-router-dom';\nimport { Footer } from './Footer/Footer';\nimport { Header } from './Header/Header';\n\nconst Layout = () => {\n  return (\n    <>\n        <Header />\n        <Outlet />\n        <Footer />\n    </>\n  );\n};\n\nexport default Layout;\n","import React from 'react';\nimport { Link } from \"react-router-dom\";\nimport \"./HomePage.css\"\n\nexport const HomePage = () => {\n    return (\n        <div className=\"store\">\n            <img\n                    className=\"store__img\"\n                    src=\"https://previews.123rf.com/images/pauldesign/pauldesign1601/pauldesign160100033/51548041-welcome-we-are-open-a-welcome-sign-for-cafes-or-shop-visitors-on-blackboard-background-with-chalk-ha.jpg\"\n                    alt=\"shop\"\n            />\n            <div className=\"store__list\">\n                <Link className=\"store__item\" to=\"/books_shop/books\">Books</Link>\n                <Link className=\"store__item\" to=\"/books_shop/magazines\">Magazines</Link>\n            </div>\n        </div>\n    );\n};\n","import axios from 'axios';\n// import {useParams} from \"react-router-dom\";\n\n// const { name, id } = useParams()\n// console.log(name, id)\nexport const getItemsFromServer = async (name) => {\n  try {\n    const { data } = await axios(`http://localhost:3001/${name}`);\n    return data;\n  } catch (e) {\n    console.error(e.message);\n  }\n};\n\n// edit item\nexport const editItemFromServer = async (name, item) => {\n  try {\n    const { data } = await axios.patch(`http://localhost:3001/${name}/${item.id}`, item);\n    return data;\n  } catch (e) {\n    console.error(e.message);\n  }\n};\n\n// delete item\nexport const deleteItemsFromServer = async (name, itemId) => {\n  try {\n    const { data } = await axios.delete(`http://localhost:3001/${name}/${itemId}`);\n    return data;\n  } catch (e) {\n    console.error(e.message);\n  }\n};\n","import \"./Search.css\"\n\nexport const Search = ({ setFilterValue, filterValue }) => {\n\n    return (\n        <label htmlFor=\"\">\n            Шукати:\n            <input\n                className=\"input__search\"\n                type='search'\n                value={filterValue}\n                onChange={(e) => setFilterValue(e.target.value)}\n            />\n        </label>\n    );\n};","import React from 'react';\nimport \"./GoodItem.css\"\nimport { Link } from \"react-router-dom\";\n\nexport const GoodItem = ({ item, name }) => {\n\n    return (\n        <Link className=\"good\" to={`/books_shop/${name}/${item.id}`}>\n            <img className=\"goods_img\" src={item.poster} alt=\"book_img\"/>\n            <p className=\"goods_name\">{item.name}</p>\n            <div className=\"goods_price\">{item.price} грн.</div>\n        </Link>\n    );\n};\n","import React, { useEffect, useMemo, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { getItemsFromServer } from '../../api/api';\nimport { Search } from '../Search/Search';\nimport { GoodItem } from './GoodsItem/GoodItem';\nimport './ItemsList.css';\n\n// список повинен приймати те що відобразити та якийсь action(actions) який буде передаватися в ListItem на клік (в нашому випадку)\n// інша логіка повинна прийматися з пропсів\nconst ItemsList = ({ items, setItems, allItemsObj, setAllItemsObj }) => {\n  const { name } = useParams();\n\n  const [filterValue, setFilterValue] = useState('');\n\n  useEffect(() => {\n    if (!Object.keys(allItemsObj).includes(name)) {\n      const getItems = async () => {\n        return await getItemsFromServer(name);\n      };\n      getItems().then((r) => {\n        setItems(r);\n        setAllItemsObj((prev) => ({\n          ...prev,\n          [name]: r,\n        }));\n      });\n    } else {\n      setItems(allItemsObj[name]);\n    }\n  }, [setItems, name, allItemsObj, setAllItemsObj]);\n\n  const handleItemsFilter = useMemo(() => {\n    return items.filter((item) =>\n      item.name.toLowerCase().includes(filterValue.toLowerCase())\n    );\n  }, [items, filterValue]);\n\n  return (\n    <>\n      <Search setFilterValue={setFilterValue} filterValue={filterValue} />\n      {handleItemsFilter.length > 0 && (\n        <div className=\"goods\">\n          {handleItemsFilter.map((item) => (\n            <div key={item.id} className=\"goods__item\">\n              <GoodItem name={name} item={item} />\n            </div>\n          ))}\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default ItemsList;\n","import React from 'react';\nimport \"./Modal.css\"\n\nexport const Modal = ({active, setActive, children}) => {\n    return (\n        <div className={active ? \"modal active\" : \"modal\"} onClick={() => setActive(false)}>\n            <div className={active ? \"modal__content active\": \"modal__content\"} onClick={e => e.stopPropagation()}>\n                {children}\n            </div>\n        </div>\n    );\n};\n","import React, { useEffect, useState } from 'react';\nimport { useParams, useNavigate, Link } from \"react-router-dom\";\nimport \"./ItemPage.css\"\nimport { Modal } from \"../Modal/Modal\";\nimport { deleteItemsFromServer, editItemFromServer, getItemsFromServer } from \"../../api/api\";\n\nconst ItemPage = (\n    {\n        setItems,\n        setAllItemsObj,\n        allItemsObj,\n        item,\n        setItem,\n        modalActive,\n        setModalActive\n    }) => {\n    const { id, name } = useParams()\n\n    const [nameEdit, setNameEdit] = useState('')\n    const [priceEdit, setPriceEdit] = useState('')\n\n    useEffect( () => {\n        async function setCurrentItem(){\n            const  data  = await getItemsFromServer(name)\n            const currentItem = data.find(item => item.id === id)\n            if (currentItem) {\n                setItem(currentItem)\n                setNameEdit(currentItem.name)\n                setPriceEdit(currentItem.price)\n            }\n        }\n        setCurrentItem().catch(e => console.log(e.message))\n    },[id, name, setItem])\n\n    const handleEdit = (e) => {\n        e.preventDefault()\n        setModalActive(false)\n        const editItems = allItemsObj[name].map(char => {\n            if (char.id === item.id) {\n                const editItem = {\n                    ...char,\n                    name: nameEdit,\n                    price: priceEdit\n                }\n\n                editItemFromServer(name, editItem).then(r => console.log(r))\n\n                return editItem\n            }\n\n            return char\n        })\n\n        setItem({...item, name: nameEdit, price: priceEdit})\n\n        setItems(editItems)\n        setAllItemsObj((prev) => ({\n            ...prev,\n            [name]: editItems\n        }))\n    }\n\n    const handleDelete = (itemId) => {\n        deleteItemsFromServer(name, itemId).then(r => r)\n        const filterDelete = allItemsObj[name].filter(item => item.id !== itemId)\n        setItems(filterDelete)\n        setAllItemsObj((prev) => ({\n            ...prev,\n            [name]: filterDelete\n        }))\n    }\n\n    const navigate = useNavigate()\n    const goBack = () => navigate(-1)\n\n    return (\n        <>\n        {item &&\n            <>\n            <div className=\"good__item\">\n                <img className=\"good__item-img\" src={item.poster} alt=\"book_img\"/>\n                <p className=\"good__item-name\">{item.name}</p>\n                <div className=\"good__item-price\">{item.price} грн.</div>\n                <div className=\"good__item-buttons\">\n                    <button className=\"good__item-button open-modal\" onClick={() => setModalActive(true)}>Edit</button>\n                    <Link to={`/books_shop/${name}`} className=\"good__item-button\" onClick={() => handleDelete(item.id)}>Delete</Link>\n                </div>\n                <img src=\"https://cdn-icons-png.flaticon.com/512/17/17699.png\" alt=\"back_img\" className=\"good__item_button-back\" onClick={() => goBack()} />\n            </div>\n            <Modal active={modalActive} setActive={setModalActive}>\n                <form onSubmit={handleEdit} className=\"form\">\n                    <label >\n                        Name:\n                        <textarea className=\"form__item\" value={nameEdit} onChange={(e) => setNameEdit(e.target.value) } />\n                    </label>\n                    <label>\n                        Price:\n                        <input className=\"form__item\" value={priceEdit} onChange={(e) => setPriceEdit(e.target.value) } />\n                    </label>\n                    <button type=\"submit\" className=\"form__button\">Submit</button>\n                </form>\n            </Modal>\n            </>\n        }\n        </>\n    );\n};\n\nexport default ItemPage;\n","import './App.css';\nimport {Route, Routes} from 'react-router-dom';\nimport Layout from './components/Layout/Layout';\nimport { HomePage } from './components/HomePage/HomePage';\nimport ItemsList from './components/ItemList/ItemList';\nimport ItemPage from './components/ItemPage/ItemPage';\nimport { useState } from 'react';\n\nexport const App = () => {\n  const [items, setItems] = useState([]);\n  const [item, setItem] = useState(undefined);\n  const [modalActive, setModalActive] = useState(false);\n  const [allItemsObj, setAllItemsObj] = useState({});\n\n  return (\n    <div className=\"App\">\n      <Routes>\n        <Route element={<Layout />}>\n          <Route path={'/books_shop'} element={<HomePage />} />\n          <Route\n            path={'/books_shop/:name'}\n            element={\n              <ItemsList\n                items={items}\n                setItems={setItems}\n                allItemsObj={allItemsObj}\n                setAllItemsObj={setAllItemsObj}\n              />\n            }\n          />\n          <Route\n            path={`/books_shop/:name/:id`}\n            element={\n              <ItemPage\n                setItems={setItems}\n                item={item}\n                setItem={setItem}\n                setAllItemsObj={setAllItemsObj}\n                allItemsObj={allItemsObj}\n                modalActive={modalActive}\n                setModalActive={setModalActive}\n              />\n            }\n          />\n        </Route>\n      </Routes>\n    </div>\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './App';\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n      <BrowserRouter>\n            <App />\n      </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}