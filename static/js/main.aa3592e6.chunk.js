(this.webpackJsonpbooks_shop=this.webpackJsonpbooks_shop||[]).push([[0],{30:function(e,t,c){},31:function(e,t,c){},33:function(e,t,c){},34:function(e,t,c){},54:function(e,t,c){},55:function(e,t,c){},56:function(e,t,c){},57:function(e,t,c){},58:function(e,t,c){},59:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c.n(s),a=c(24),o=c.n(a),r=c(4),i=(c(30),c(2)),j=(c(31),c(0)),l=function(){return Object(j.jsx)("div",{className:"footer",children:Object(j.jsx)("h3",{className:"footer__title",children:"\u0412\u0441\u0442\u0438\u0433\u043d\u0438 \u043f\u0440\u0438\u0434\u0431\u0430\u0442\u0438 \u043a\u043d\u0438\u0436\u043a\u0443 \u0434\u043e 25 \u0447\u0435\u0440\u0432\u043d\u044f!"})})},b=(c(33),c(3)),m=function(){return Object(j.jsx)("div",{className:"header-container",children:Object(j.jsxs)("ul",{className:"header__list",children:[Object(j.jsx)(b.b,{to:"/books_shop",className:"header__item",children:"Home"}),Object(j.jsx)(b.b,{to:"/books_shop",className:"header__item",children:"List"}),Object(j.jsx)(b.b,{to:"/books_shop",className:"header__item",children:"Other"}),Object(j.jsx)(b.b,{to:"/books_shop",className:"header__item",children:"Exit"})]})})},u=function(){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(m,{}),Object(j.jsx)(i.a,{}),Object(j.jsx)(l,{})]})},d=(c(34),function(){return Object(j.jsxs)("div",{className:"store",children:[Object(j.jsx)("img",{className:"store__img",src:"https://previews.123rf.com/images/pauldesign/pauldesign1601/pauldesign160100033/51548041-welcome-we-are-open-a-welcome-sign-for-cafes-or-shop-visitors-on-blackboard-background-with-chalk-ha.jpg",alt:"shop"}),Object(j.jsxs)("div",{className:"store__list",children:[Object(j.jsx)(b.b,{className:"store__item",to:"/books_shop/books",children:"Books"}),Object(j.jsx)(b.b,{className:"store__item",to:"/books_shop/magazines",children:"Magazines"})]})]})}),O=c(8),h=c(7),f=c(11),p=c(9),_=c.n(p),x=c(25),v=c.n(x),g=function(){var e=Object(f.a)(_.a.mark((function e(t){var c,s;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v()("http://localhost:3001/".concat(t));case 3:return c=e.sent,s=c.data,e.abrupt("return",s);case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),N=(c(54),function(e){var t=e.setFilterValue,c=e.filterValue;return Object(j.jsxs)("label",{htmlFor:"",children:["\u0428\u0443\u043a\u0430\u0442\u0438:",Object(j.jsx)("input",{className:"input__search",type:"search",value:c,onChange:function(e){return t(e.target.value)}})]})}),k=(c(55),function(e){var t=e.item,c=e.name;return Object(j.jsxs)(b.b,{className:"good",to:"/books_shop/".concat(c,"/").concat(t.id),children:[Object(j.jsx)("img",{className:"goods_img",src:t.poster,alt:"book_img"}),Object(j.jsx)("p",{className:"goods_name",children:t.name}),Object(j.jsxs)("div",{className:"goods_price",children:[t.price," \u0433\u0440\u043d."]})]})}),I=(c(56),function(e){var t=e.items,c=e.setItems,n=e.allItemsObj,a=e.setAllItemsObj,o=Object(i.h)().name,l=Object(s.useState)(""),b=Object(r.a)(l,2),m=b[0],u=b[1];Object(s.useEffect)((function(){if(Object.keys(n).includes(o))c(n[o]);else{var e=function(){var e=Object(f.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(o);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e().then((function(e){c(e),a((function(t){return Object(h.a)(Object(h.a)({},t),{},Object(O.a)({},o,e))}))}))}}),[c,o,n,a]);var d=Object(s.useMemo)((function(){return t.filter((function(e){return e.name.toLowerCase().includes(m.toLowerCase())}))}),[t,m]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(N,{setFilterValue:u,filterValue:m}),d.length>0&&Object(j.jsx)("div",{className:"goods",children:d.map((function(e){return Object(j.jsx)("div",{className:"goods__item",children:Object(j.jsx)(k,{name:o,item:e})},e.id)}))})]})}),w=(c(57),c(58),function(e){var t=e.active,c=e.setActive,s=e.children;return Object(j.jsx)("div",{className:t?"modal active":"modal",onClick:function(){return c(!1)},children:Object(j.jsx)("div",{className:t?"modal__content active":"modal__content",onClick:function(e){return e.stopPropagation()},children:s})})}),A=function(e){var t=e.items,c=e.setItems,n=e.setAllItemsObj,a=e.allItemsObj,o=e.item,l=e.setItem,m=e.modalActive,u=e.setModalActive,d=Object(i.h)(),f=d.id,p=d.name,_=Object(s.useState)(""),x=Object(r.a)(_,2),v=x[0],g=x[1],N=Object(s.useState)(""),k=Object(r.a)(N,2),I=k[0],A=k[1];Object(s.useEffect)((function(){l(t.find((function(e){return e.id===f}))),void 0!==o&&(g(o.name),A(o.price))}),[f,t,l,o]);var C=Object(i.g)();return Object(j.jsx)(j.Fragment,{children:o&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"good__item",children:[Object(j.jsx)("img",{className:"good__item-img",src:o.poster,alt:"book_img"}),Object(j.jsx)("p",{className:"good__item-name",children:o.name}),Object(j.jsxs)("div",{className:"good__item-price",children:[o.price," \u0433\u0440\u043d."]}),Object(j.jsxs)("div",{className:"good__item-buttons",children:[Object(j.jsx)("button",{className:"good__item-button open-modal",onClick:function(){return u(!0)},children:"Edit"}),Object(j.jsx)(b.b,{to:"/books_shop/".concat(p),className:"good__item-button",onClick:function(){return function(e){var t=a[p].filter((function(t){return t.id!==e}));c(t),n((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(O.a)({},p,t))}))}(o.id)},children:"Delete"})]}),Object(j.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/17/17699.png",alt:"back_img",className:"good__item_button-back",onClick:function(){return C(-1)}})]}),Object(j.jsx)(w,{active:m,setActive:u,children:Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),u(!1);var t=a[p].map((function(e){return e.id===o.id?Object(h.a)(Object(h.a)({},e),{},{name:v,price:I}):e}));l(Object(h.a)(Object(h.a)({},o),{},{name:v,price:I})),c(t),n((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(O.a)({},p,t))}))},className:"form",children:[Object(j.jsxs)("label",{children:["Name:",Object(j.jsx)("textarea",{className:"form__item",value:v,onChange:function(e){return g(e.target.value)}})]}),Object(j.jsxs)("label",{children:["Price:",Object(j.jsx)("input",{className:"form__item",value:I,onChange:function(e){return A(e.target.value)}})]}),Object(j.jsx)("button",{type:"submit",className:"form__button",children:"Submit"})]})})]})})},C=function(){var e=Object(s.useState)([]),t=Object(r.a)(e,2),c=t[0],n=t[1],a=Object(s.useState)(void 0),o=Object(r.a)(a,2),l=o[0],b=o[1],m=Object(s.useState)(!1),O=Object(r.a)(m,2),h=O[0],f=O[1],p=Object(s.useState)({}),_=Object(r.a)(p,2),x=_[0],v=_[1];return Object(j.jsx)("div",{className:"App",children:Object(j.jsx)(i.d,{children:Object(j.jsxs)(i.b,{element:Object(j.jsx)(u,{}),children:[Object(j.jsx)(i.b,{path:"/books_shop",element:Object(j.jsx)(d,{})}),Object(j.jsx)(i.b,{path:"/books_shop/:name",element:Object(j.jsx)(I,{items:c,setItems:n,allItemsObj:x,setAllItemsObj:v})}),Object(j.jsx)(i.b,{path:"/books_shop/:name/:id",element:Object(j.jsx)(A,{items:c,setItems:n,item:l,setItem:b,setAllItemsObj:v,allItemsObj:x,modalActive:h,setModalActive:f})})]})})})};o.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(b.a,{children:Object(j.jsx)(C,{})})}),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.aa3592e6.chunk.js.map